<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basic Example</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      overflow: hidden;
      position: relative;
    }

    .zoom {
      position: absolute;
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const numImages = 6;
      const slow = 0.8;
      const container = document.createElement('div');
      container.style.display = 'none'; // Ocultamos el contenedor mientras se cargan las imágenes
      
      // Agregar las imágenes al contenedor
      for (let i = 0; i < numImages; i++) {
        const img = new Image();
        img.src = `img/forest${i}.jpg`;
        container.appendChild(img);
      }
      
      // Una vez que todas las imágenes estén cargadas, mostramos el contenedor y comenzamos las animaciones
      function showContainerAndAnimate() {
        document.body.appendChild(container); // Agregar el contenedor al DOM
        for (let i = 0; i < numImages; i++) {
          const element = document.createElement('div');
          element.classList.add('zoom');
          element.style.backgroundImage = `url('img/forest${i}.jpg')`;
          document.body.appendChild(element); // Agregar el elemento al DOM
          switch (i) {
            case 0:
              addAnimation(element, 0, 0, "aplhaScale");
              break;
            case 1:
              addAnimation(element, 0, 0, "betaScale");
              break;
            default:
              addAnimation(element, slow * 4 * (i-2), slow * 4 * (i-2), "finalScale");
          }
        }
      }
      showContainerAndAnimate();
      
      function addAnimation(element, delayHidden, delayFinalScale, animationScale) {
        element.style.animation = `stayHidden ${delayHidden}s, ${animationScale} ${slow * 16}s ${delayFinalScale}s linear `;
      }

      setInterval(() => {
        var zoomDivs = document.querySelectorAll('div.zoom');
        for (var i = 0; i < zoomDivs.length; i++) {
            var zoomDiv = zoomDivs[i];
            zoomDiv.parentNode.removeChild(zoomDiv);
        }
        showContainerAndAnimate();
      }, (numImages * 4 * slow)  * 1000);
    });
  </script>
  
  <style>
    @keyframes stayHidden {
      0% {transform: scale(0);}
      100% {transform: scale(0);}
    }
    @keyframes aplhaScale {
      0% {transform: scale(2);}
      12.5% {transform: scale(3);}
      25% {transform: scale(4);}
      37.5% {transform: scale(6);}
      50% {transform: scale(8);}
      62.5% {transform: scale(12);}
      75% {transform: scale(16);}
      87.5% {transform: scale(32);}
      100% {transform: scale(64);}
    }
    @keyframes betaScale {
      0% {transform: scale(1);}
      12.5% {transform: scale(1.5);}
      25% {transform: scale(2);}
      37.5% {transform: scale(3);}
      50% {transform: scale(4);}
      62.5% {transform: scale(6);}
      75% {transform: scale(8);}
      87.5% {transform: scale(12);}
      100% {transform: scale(16);}
    }
    @keyframes finalScale {
      0% {transform: scale(0.5);}
      12.5% {transform: scale(0.75);}
      25% {transform: scale(1);}
      37.5% {transform: scale(1.5);}
      50% {transform: scale(2);}
      62.5% {transform: scale(3);}
      75% {transform: scale(4);}
      87.5% {transform: scale(6);}
      100% {transform: scale(8);}
    }
  </style>
</body>
</html>
